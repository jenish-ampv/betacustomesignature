%%DEFINE_HEADER%%
%%DEFINE_LEFT%%
<div class="pcoded-main-container">
  <div class="pcoded-content">
    <div class="page-header">
      <div class="page-block">
        <div class="row align-items-center">
          <div class="col-md-12">
            <div class="page-header-title">
              <h5 class="m-b-10">%%DEFINE_ModuleName%%</h5>
            </div>
            <ul class="breadcrumb">
              <li class="breadcrumb-item"><a href="#"><i class="feather icon-home"></i></a></li>
              <li class="breadcrumb-item"><a href="%%DEFINE_li_dashboard%%"> Dashboard /</a> <a href="#!">%%DEFINE_ModuleName%%</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xl-12 col-md-12">
        <div class="card table-card">
          <div class="card-header">
            <!-- <h5>Register Member (%%DEFINE_Totaluser%%)</h5> -->
            <h5>Refund Payments</h5>
            <div class="card-header-right" >
              <a class="btn btn-sm btn-primary has-ripple collapsed" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample" ><i class="feather mr-2 icon-filter"></i>Filter</a>
              <a href="%%DEFINE_li_add%%"><input class="btn btn-primary btn-sm has-ripple" type="button" value="Add New" class="gry_btn"></a>
            </div>
          </div>
          <div class="collapse" id="collapseExample">
            <div class="table-responsive">
              <table class="table table-hover mb-0">
                <thead>
                  <div class="collapse" id="collapseExample">
                    <tr> 
                      <div class="form-row m-10">
                        <div class="col-md-3 mb-3">
                          <select name="filter_val" class="custom-select" id="filter_val">
                            <option value="">Select</option>
                            <option value="1">Status Deactive</option>
                            <option value="2">Status Active</option>
                            <option value="3">Last Login</option>
                            <option value="4">Not Login</option>
                          </select>
                        </div>
                      </div>
                    </tr>               
                  </div>  
                </thead>
              </table>
            </div>             
          </div> 
          <div class="card-body p-0">
            <div class="table-responsive">
              <!--<div class="m-20" style="display:%%DEFINE_display%%;">Please select website first to see the FREE & GOLD & PLATINUM Member list  
                  <a href="%%DEFINE_li_export%%">Export All Member</a>
              </div>-->
              <div >
                <div class="card-body p-0">
                  <div class="table-responsive">
                     IF("%%DEFINE_MessageStatus%%"=="1"){
                        %%DEFINE_Message%%
                    {:IF}
                    <table class="table table-hover mb-0" id="invoice_table">
                      <thead>
                        <tr>
                          <th>User Name</th>
                          <th>Amount</th>
                          <th>Date</th>
                          <th>Save Invoice</th> 
                          <th>Actions</th> 
                        </tr>
                      </thead>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
        </div>
      </div>
    </div>
  </div>
</div> 
<div class="refund-popup" style="display: none;">
  <div class="popup-column">
    <div class="popup-header">
      <span>Refund payment</span>
    </div>
    <div class="popup-content Box-root" style="flex: 1 1 auto;">
      <div class="refund-message">
          <span>Refunds take 5-10 days to appear on a customer's statement. Stripe's fees for the original payment won't be returned, but there are no additional fees for the refund. <a target="_blank" href="https://support.stripe.com/questions/understanding-fees-for-refunded-payments" rel="noopener noreferrer">Learn more</a>. </span>
      </div>
      <div class="refund-container">
        
      </div>
    </div>
  </div>
</div>

<script>
  var filter = jQuery.noConflict();
  filter(document).ready(function(){
    var filterurl = '%%DEFINE_li_getpayments%%';
    var dataTable = filter('#invoice_table').DataTable({
	  "lengthMenu": [[10, 25, 50,100,500], [10, 25, 50,100]],	
      'processing': true,
      'serverSide': true,
      'select': true,
      'order': [[ 1, "desc" ]],
      'user': 1,
      "language": {                
        "infoFiltered":""
      }, 
	  
      'serverMethod': 'post',
      'ajax': {
        'url': filterurl,
        'data': function(data){
          var fd = filter('#filter_val').val();
          data.filter_val = fd;
        },
      }, 
      'columns': [
          { data : 'user_name'},
          { data : 'amount'},
          { data : 'invoice_date'},
          { data : 'save_invoice'},
          { data : 'actions'},
      ],	
    });
    filter('#filter_val').change(function(){
      dataTable.draw();
    });
  });
</script>  