%%DEFINE_HEADER%%

<script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.10.2/lottie.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gif.js.optimized/dist/gif.js"></script>

<div class="loader-image" style="display: none;">
  <img draggable="false" src="%%DEFINE_IMAGE_LINK%%/images/loading-2.gif" alt="">
</div>

<div class="flex grow flex-col in-data-kt-[sticky-header=on]:pt-(--header-height-default) overflow-auto">
  <main class="h-full" id="content" role="content">
    <div class="kt-container-fluid p-4 h-full">
      <form id="msformedit" class="h-full">
        <input type="hidden" name="signature_image" value="%%DEFINE_signature_image_nmae%%" />
        <div class="flex flex-col lg:flex-row gap-5 lg:h-full">
          %%DEFINE_EDITOR_SIDEBAR_EDIT_SIGNATURE%%

          <div
            class="hover_previous_right_bg w-full flex flex-col bg-cover rounded-xl border border-gray-300 bg-no-repeat bg-bottom p-5 sm:p-6 lg:p-8 2xl:p-10 h-full overflow-auto" style="background-image: url('%%DEFINE_IMAGE_LINK%%/images/previous-right-bg.png');">
            <div class="flex-1 flex flex-col items-center justify-center">
              <div id="snackbar"></div>
              <div id="snackbar-error"></div>
              <div id="snackbar-info"></div>
              <div class="lg:border border-gray-300 rounded-xl lg:p-5 lg:bg-white max-w-[740px] mx-auto w-full">
                <div class="flex items-center justify-between !text-gray-300 border-b border-b-gray-200 pb-4">
                  <div class="flex items-center gap-3">
                    <img class="size-9 rounded-full object-cover" draggable="false" src="%%DEFINE_IMAGE_LINK%%/images/previous-left-icon.svg" alt="">
                    <p>Custom Esignature<br /><span>to: johnsmith@example.com</span></p>
                  </div>
                  <img draggable="false" src="%%DEFINE_IMAGE_LINK%%/images/previous-right-icon.svg" alt="">
                </div>
                <p>&nbsp;</p>
                <p class="text-gray-300">Hey John,</p>
                <div class="h-2 bg-gray-200 rounded-full mt-3">&nbsp;</div>
                <div class="h-2 bg-gray-200 rounded-full mt-3 mb-10 w-1/2">&nbsp;</div>
                <p class="text-gray-300">Best,</p>
                <p>&nbsp;</p>
                %%DEFINE_lauout_load%%
                %%DEFINE_signature_profilesize_hidden_input%%
                <div class="signature_temp_preview_box">
                </div> <!-- 	// code is for saving signature html(to use in deploy)  -->
              </div>
              <div class="flex justify-center gap-4 mt-5 md:mt-6 lg:mt-8 xl:mt-10">
                <a href="%%DEFINE_linkModuleDashboard%%?department_id=%%DEFINE_current_department_id%%"
                  class="previous kt-btn kt-btn-mono action-button-previous">Go Back</a>
                <button type="submit" name="next" class="submit kt-btn kt-btn-primary next action-button"
                  value="Next Step">
                  Save Signature <i class="hgi hgi-stroke hgi-arrow-right-double"></i>
                </button>
              </div>
            </div>
            <div class="flex flex-wrap text-sm items-center justify-between px-4 text-center mt-5">
              <span class="text-gray-600">© 2025 Custom Esignature's Inc. All rights reserved.</span>
              <div class="flex text-gray-700 items-center gap-2">
                  <a href="https://www.customesignature.com/privacypolicy" target="_blank">Privacy Policy</a>
                  <i class="fas fa-circle text-[6px] text-gray-400"></i>
                  <a href="https://www.customesignature.com/terms-of-use" target="_blank">Terms and Conditions</a>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </main>
</div>

<input type="hidden" id="form_url" value="%%DEFINE_li_editurl%%" />
<input type="hidden" id="signature_html_url" value="%%DEFINE_sig_html_save_url%%" />
<!-- 	// code is for saving signature html(to use in deploy) -->
<input type="hidden" id="auto_update_outlook_signature" value="%%DEFINE_auto_update_outlook_signature%%" />
<!-- 	// code is for saving signature html(to use in deploy) -->
<input type="hidden" id="redirecturl"
  value="%%DEFINE_linkModuleDashboard%%?department_id=%%DEFINE_current_department_id%%" />

<!-- Form-->
<input type="hidden" id="upload_url" value="%%DEFINE_linkModuleEditSignature%%/uploadimg" />
<script src="%%DEFINE_JS_LINK%%/jquery-3.5.1.min.js"></script>

<script src="%%DEFINE_JS_LINK%%/uploadsigprofile.js?v=%%DEFINE_CSS_VERSION%%" type="text/javascript"></script>
<script src="%%DEFINE_JS_LINK%%/uploadbanner.js?v=%%DEFINE_CSS_VERSION%%" type="text/javascript"></script>
<script src="%%DEFINE_JS_LINK%%/sigeditor.js?v=%%DEFINE_CSS_VERSION%%" type="text/javascript"></script>
<script src="%%DEFINE_JS_LINK%%/uploadlogo.js?v=%%DEFINE_CSS_VERSION%%" type="text/javascript"></script>

<!-- <link href="%%DEFINE_JS_LINK%%/nouislider/nouislider.min.css" rel="stylesheet"> -->
<script src="%%DEFINE_JS_LINK%%/nouislider/nouislider.min.js"></script>
<script type="text/javascript">
  jQuery.noConflict();
  (function ($) {
    $(document).ready(function () {
      // submit edit form

      $(".submit").click(function () {
        var redirecturl = $('#redirecturl').val();
        var form = $('#msformedit');
        data = form.serialize();
        $(".loader-image").show();
        $.ajax({
          type: 'POST',
          url: $('#form_url').val(),
          data: form.serialize()
        }).done(function (data) {
          var json = JSON.parse(data);
          if (json.error != 1) {

            // $('#snackbar').html('<div class="alert alert-success"><img draggable="false" src="%%DEFINE_IMAGE_LINK%%/images/success-message-icon.svg" alt=""><strong>Success! </strong>Signature saved! </div>');
            // $('#snackbar').show();
            // setTimeout(function(){ $('#snackbar').hide(); window.location = redirecturl;}, 2000);

            // code is for saving signature html(to use in deploy) START

            $('.signature_previous_box').hide();
            $('.signature_temp_preview_box').html(json.signature_after_save);
            $('.signature_temp_preview_box').show();

            // save signature html only if outlook integration connected and auto save enabled
            if ($('#auto_update_outlook_signature').val() == '1') {
              // convert cta buttons to image only if its visible(toggled on)
              if ($('.signature_temp_preview_box').find('[class*=imagetopngClass]').is(":visible")) {
                var s = document.createElement("script");
                s.type = "text/javascript";
                s.src = "%%DEFINE_JS_LINK%%/htmltoimage/html2canvas.js";
                var s2 = document.createElement("script");
                s2.type = "text/javascript";
                s2.src = "%%DEFINE_JS_LINK%%/htmltoimage/htmltoimage.js";
                $("head").append(s);
                $("head").append(s2);
                checkAllHtmlToImageGenerated();
              } else {
                saveSignatureHtml();
              }
            } else {
              $('.signature_previous_box').show();
              $('.signature_temp_preview_box').hide();
              $(".loader-image").hide();

              $('#snackbar').html('<div class="alert alert-success"><img draggable="false" src="%%DEFINE_IMAGE_LINK%%/images/success-message-icon.svg" alt=""><strong>Success! </strong>Signature saved! </div>');
              $('#snackbar').show();
              //setTimeout(function () { $('#snackbar').hide(); window.location = redirecturl; }, 2000);
            }


            // code is for saving signature html(to use in deploy) END



          }
          else {
            $('.signature_previous_box').show();
            $('.signature_temp_preview_box').hide();
            $(".loader-image").hide();
            $('#snackbar-error').html('<div class="alert alert-danger"><img draggable="false" src="%%DEFINE_IMAGE_LINK%%/images/error-message-icon.svg" alt=""><strong>Failure! </strong>' + json.msg + ' </div>')
            $('#snackbar-error').show();
            setTimeout(function () { $('#snackbar-error').hide(); }, 2000);
            return false;
          }
          // Optionally alert the user of success here...
        }).fail(function (data) {
          return false;
          // Optionally alert the user of an error here...
        });
        return false;
      });

      // code is for saving signature html(to use in deploy) START

      function checkAllHtmlToImageGenerated() {
        var allImagesGenerated = false;
        var convertedImageCount = 0;

        $('.imagetopngClass:visible').each(function () {       //hide/show social icon border based on selected custom icons if its with social icon area
          if ($(this).find('a').children('img').length) {
            convertedImageCount++;
          }
        });
        if (convertedImageCount == $('.imagetopngClass:visible').length) {
          console.log('COMPLETED:  ' + convertedImageCount)
          allImagesGenerated = true;
        } else {
          if ((convertedImageCount > 0) && (convertedImageCount < $('.imagetopngClass:visible').length)) {
            console.log('WAITING:  ' + convertedImageCount)
            var s = document.createElement("script");
            s.type = "text/javascript";
            s.src = "%%DEFINE_JS_LINK%%/htmltoimage/html2canvas.js";
            var s2 = document.createElement("script");
            s2.type = "text/javascript";
            s2.src = "%%DEFINE_JS_LINK%%/htmltoimage/htmltoimage.js";
            $("head").append(s);
            $("head").append(s2);
          }
          convertedImageCount = 0;
        }
        setTimeout(function () {
          if (allImagesGenerated) {
            // For remove signature profile if not visible
            if ($('.signature_temp_preview_box').find('.signature_profile').not(':visible').length) {
              // $('.signature_temp_preview_box').find('.signature_profile').parent().remove();
              $('.signature_temp_preview_box').find('.profile-annimation-gif').remove();
            }

            // For remove signature social icon container if not visible
            if ($('.signature_temp_preview_box').find('.layout_socialicon_border').not(':visible').length) {
              $('.signature_temp_preview_box').find('.layout_socialicon_border').remove();
            }

            // For remove signature banner if not visible
            if ($('.signature_temp_preview_box').find('.layout_banner').not(':visible').length) {
              $('.signature_temp_preview_box').find('.layout_banner').closest('#layout_bannerlink').remove();
            }

            $('.signature_temp_preview_box').find('td').each(function () {
              if ($(this).html().trim() == '') {
                if ($(this).closest("tr").find('td').html().trim() == '') {
                  $(this).closest("tr").remove();
                }
              }
              if ($(this).is(":hidden")) {
                $(this).remove();
              }
            });

            saveSignatureHtml();
          } else {
            checkAllHtmlToImageGenerated();
          }
        }, 5000);
      }

      function saveSignatureHtml() {

        if ($('.signature_temp_preview_box').find('.signature_profile').not(':visible').length) {
          // $('.signature_temp_preview_box').find('.signature_profile').parent().remove();
          $('.signature_temp_preview_box').find('.profile-annimation-gif').remove();
        }

        // For remove signature social icon container if not visible
        if ($('.signature_temp_preview_box').find('.layout_socialicon_border').not(':visible').length) {
          $('.signature_temp_preview_box').find('.layout_socialicon_border').remove();
        }

        // For remove signature banner if not visible
        if ($('.signature_temp_preview_box').find('.layout_banner').not(':visible').length) {
          $('.signature_temp_preview_box').find('.layout_banner').closest('#layout_bannerlink').remove();
        }

        // For remove signature verified if not visible
        if ($('.signature_temp_preview_box').find('.layout_verified').not(':visible').length) {
          $('.signature_temp_preview_box').find('.layout_verified').remove();
        }

        $('.signature_temp_preview_box').find('td').each(function () {
          if ($(this).html().trim() == '') {
            if ($(this).closest("tr").find('td').html().trim() == '') {
              $(this).closest("tr").remove();
            }
          }
          if ($(this).is(":hidden")) {
            $(this).remove();
          }
        });
        var redirecturl = $('#redirecturl').val();
        $('.signature_temp_preview_box').find('.layout_firstname').css('white-space', 'nowrap');
        $.ajax({
          type: 'POST',
          url: $('#signature_html_url').val(),
          data: { html: $('.signature_temp_preview_box').html() }
        }).done(function (data) {
          $('.signature_previous_box').show();
          $('.signature_temp_preview_box').hide();
          $(".loader-image").hide();

          $('#snackbar').html('<div class="alert alert-success"><img draggable="false" src="%%DEFINE_IMAGE_LINK%%/images/success-message-icon.svg" alt=""><strong>Success! </strong>Signature saved! </div>');
          $('#snackbar').show();
          setTimeout(function () { $('#snackbar').hide(); window.location = redirecturl; }, 2000);
        }).fail(function (data) {
          return false;
        });
      }

      // code is for saving signature html(to use in deploy) END

      


    });
  })(jQuery);
</script>
<!--  Form End-->

<script>
  jQuery.noConflict();
  (function ($) {
    $(document).ready(function () {
      //var logosize = $('.signature_layot img.layout_logo').width();
      var logosize = '%%DEFINE_signature_logosize%%';
      //$('#signature_logosize').val(logosize);

      var rangeSlider = $('#range')[0];
      noUiSlider.create(rangeSlider, {
        start: [logosize],
        step: 5,
        connect: [true, false],
        range: {
          'min': [30],
          'max': [300]
        },
      });

      rangeSlider.noUiSlider.on('update', function (values, handle, unencoded) {
        if (unencoded == 0) { unencoded = 100; }
        logowith = parseInt(unencoded);
        $('#logo_size').text(logowith);
        $('.signature_tbl img.layout_logo').attr("width", logowith);
        $('.signature_tbl lottie-player').css("width", logowith + 'px');
        $('#signature_logosize').val(logowith);
      });

      // banner
      var bannersize = '%%DEFINE_signature_bannersize%%';
      $('#signature_bannersize').val(bannersize);
      var rangeSlider = $('#rangebanner')[0];
      noUiSlider.create(rangeSlider, {
        start: [bannersize],
        step: 5,
        connect: [true, false],
        range: {
          'min': [150],
          'max': [600]
        },
      });

      rangeSlider.noUiSlider.on('update', function (values, handle, unencoded) {

        if (unencoded == 0) { unencoded = 150; }
        bannerwith = parseInt(unencoded);
        $('#banner_size').text(bannerwith);
        $('.signature_tbl img.layout_banner').attr("width", bannerwith);
        $('#signature_bannersize').val(bannerwith);
      });


      // border width
      var borderwidth = '%%DEFINE_signature_borderwidth%%';
      var borderwidths = borderwidth.replace('px', '');
      $('#signature_borderwidth').val(borderwidth);

      var borderSlider = $('#borderwidth')[0];
      noUiSlider.create(borderSlider, {
        start: [borderwidths],
        step: 1,
        connect: [true, false],
        range: {
          'min': [0],
          'max': [7]
        },
      });
      borderSlider.noUiSlider.on('update', function (values, handle, unencoded) {

        if (unencoded == 0) { unencoded = 1; }
        border = parseInt(unencoded);
        borderwidth = parseInt(unencoded) + 'px';
        if ($('#signature_border').prop('checked') == true) {
          $('.layout_border').css('border-width', borderwidth);
          $('#signature_borderwidth').val(border);
        }
      });



      // devider width
      var dividerwidth = '%%DEFINE_signature_dividerwidth%%';
      var borderwidths = dividerwidth.replace('px', '');
      $('#signature_dividerwidth').val(dividerwidth);

      var dividerSlider = $('#dividerwidth')[0];
      noUiSlider.create(dividerSlider, {
        start: [borderwidths],
        step: 1,
        connect: [true, false],
        range: {
          'min': [0],
          'max': [7]
        },
      });
      dividerSlider.noUiSlider.on('update', function (values, handle, unencoded) {

        if (unencoded == 0) { unencoded = 1; }
        border = parseInt(unencoded);
        borderwidth = parseInt(unencoded) + 'px';
        if ($('#signature_divider').prop('checked') == true) {
          $('.layout_divider').css('border-left-width', borderwidth);
          $('.layout_divider_bottom').css('border-bottom-width', borderwidth);
          $('.layout_divider_right').css('border-right-width', borderwidth);
          $('#signature_dividerwidth').val(border);
        }
      });

      ///// Profile size ////
      //  var profilesize = '%%DEFINE_signature_profilesize%%';
      var profilesize = Number($("#signature_profilesize_hidden").val());

      var maxWidth = Number('%%DEFINE_profile_image_size%%');
      var checkedLayoutId = $("input[type='radio'][name=layout_id]:checked").val();
      // maxWidth = $('label[for="layout_id'+checkedLayoutId+'"]').find("img.signature_profile").data('width');
      var profileImageSlider = "";

      function createProfileImageSlider(maxWidth, layOutChanged = false) {
        $('#signature_profilesize').val(profilesize);
        var rangeSlider = $('#rangeprofile')[0];
        width = $('label[for="layout_id' + checkedLayoutId + '"]').find("img.signature_profile").width();
        profilesize = (profilesize == null) ? width : profilesize;
        startRange = (layOutChanged) ? width : profilesize;
        startRange = (width != null) || (profilesize != null) ? startRange : 10;
        profileImageSlider = noUiSlider.create(rangeSlider, {
          start: [startRange],
          step: 5,
          connect: [true, false],
          range: {
            'min': [10],
            'max': [maxWidth]
          },
        });

        rangeSlider.noUiSlider.on('update', function (values, handle, unencoded) {
          if (unencoded == 0) { unencoded = 50; }
          profilewith = parseInt(unencoded);
          $('#profile_image_size').text(profilewith);
          $('label[for="layout_id' + checkedLayoutId + '"]').find("img.signature_profile").attr("width", profilewith);
          $('.signature_previous_box').find("img.profile-annimation-gif").attr("width", profilewith);
          $('label[for="layout_id' + checkedLayoutId + '"]').find("img.profile-annimation-gif").attr("width", profilewith);
          $('.signature_previous_box img.signature_profile').last().attr("width", profilewith);
          $('#signature_profilesize').val(profilewith);
        });
      }
      if (maxWidth != null) {
        createProfileImageSlider(maxWidth);
      } else {
        createProfileImageSlider(140);
      }

      $('input:radio[name="layout_id"]').change(function () {
        checkedLayoutId = $(this).val();
        // maxWidth = $('label[for="layout_id'+checkedLayoutId+'"]').find("img.signature_profile").data('width');
        maxWidth = Number($('input#profile_image_size' + checkedLayoutId).val());

        if (maxWidth != null) {
          profileImageSlider.destroy();
          createProfileImageSlider(maxWidth, true);
        } else {
          profileImageSlider.destroy();
          createProfileImageSlider(140, true);
        }
      });
      ///// Profile size END////



      /// Cta buttons size slider ///

      // ctabtn1
      var ctabtn1size = '%%DEFINE_signature_ctabtn1_size%%';
      ctabtn1sizestart = 2; // by default normal
      if (ctabtn1size == '10px') {
        ctabtn1sizestart = 1; // small
      } else if (ctabtn1size == '12px') {
        ctabtn1sizestart = 2; // normal
      } else if (ctabtn1size == '14px') {
        ctabtn1sizestart = 3; // large
      }

      $('#signaturectabtnsize1').val(ctabtn1size);
      var rangeSlider = $('#ctabtnsize1')[0];
      noUiSlider.create(rangeSlider, {
        start: [ctabtn1sizestart],
        step: 1,
        connect: [true, false],
        range: {
          'min': [1],
          'max': [3]
        },
      });

      rangeSlider.noUiSlider.on('update', function (values, handle, unencoded) {
        if (unencoded == 0) { unencoded = 2; }
        ctabtn1size = '12px'; // by default normal
        if (unencoded == 1) {
          ctabtn1size = '10px'; // small
        }
        else if (unencoded == 2) {
          ctabtn1size = '12px'; // normal
        }
        else if (unencoded == 3) {
          ctabtn1size = '14px'; // large
        }

        $(".layout_ctabtn1").css('font-size', ctabtn1size);
        $("input[name=signature_ctabtnsize1]").val(ctabtn1size);
      });

      // ctabtn2
      var ctabtn2size = '%%DEFINE_signature_ctabtn2_size%%';
      ctabtn2sizestart = 2; // by default normal
      if (ctabtn2size == '10px') {
        ctabtn2sizestart = 1; // small
      } else if (ctabtn2size == '12px') {
        ctabtn2sizestart = 2; // normal
      } else if (ctabtn2size == '14px') {
        ctabtn2sizestart = 3; // large
      }

      $('#signaturectabtnsize2').val(ctabtn2size);
      var rangeSlider = $('#ctabtnsize2')[0];
      noUiSlider.create(rangeSlider, {
        start: [ctabtn2sizestart],
        step: 1,
        connect: [true, false],
        range: {
          'min': [1],
          'max': [3]
        },
      });

      rangeSlider.noUiSlider.on('update', function (values, handle, unencoded) {
        if (unencoded == 0) { unencoded = 2; }
        ctabtn2size = '12px'; // by default normal
        if (unencoded == 1) {
          ctabtn2size = '10px'; // small
        }
        else if (unencoded == 2) {
          ctabtn2size = '12px'; // normal
        }
        else if (unencoded == 3) {
          ctabtn2size = '14px'; // large
        }

        $(".layout_ctabtn2").css('font-size', ctabtn2size);
        $("input[name=signature_ctabtnsize2]").val(ctabtn2size);
      });

      // ctabtn3
      var ctabtn3size = '%%DEFINE_signature_ctabtn3_size%%';
      ctabtn3sizestart = 2; // by default normal
      if (ctabtn3size == '10px') {
        ctabtn3sizestart = 1; // small
      } else if (ctabtn3size == '12px') {
        ctabtn3sizestart = 2; // normal
      } else if (ctabtn3size == '14px') {
        ctabtn3sizestart = 3; // large
      }
      $('#signaturectabtnsize3').val(ctabtn3size);
      var rangeSlider = $('#ctabtnsize3')[0];
      noUiSlider.create(rangeSlider, {
        start: [ctabtn3sizestart],
        step: 1,
        connect: [true, false],
        range: {
          'min': [1],
          'max': [3]
        },
      });

      rangeSlider.noUiSlider.on('update', function (values, handle, unencoded) {
        if (unencoded == 0) { unencoded = 2; }
        ctabtn3size = '12px'; // by default normal
        if (unencoded == 1) {
          ctabtn3size = '10px'; // small
        }
        else if (unencoded == 2) {
          ctabtn3size = '12px'; // normal
        }
        else if (unencoded == 3) {
          ctabtn3size = '14px'; // large
        }

        $(".layout_ctabtn3").css('font-size', ctabtn3size);
        $("input[name=signature_ctabtnsize3]").val(ctabtn3size);
      });

      /// Cta buttons size slider END///

      //  hide/show social icon border based on selected social icons
      if ($(".sicon:visible").length < 1) {
        $(".signature_previous_box").find('.sicon').closest('.layout_socialicon_border').hide();
        $(".signature_previous_box").find('.sicon').closest('.layout_socialicon_border').siblings('.layout_between_gap').css({ 'display': 'none' });
        $(".signature_layot").find('.sicon').closest('.layout_socialicon_border').hide();
        $(".signature_layot").find('.sicon').closest('.layout_socialicon_border').siblings('.layout_between_gap').css({ 'display': 'none' });
      } else {
        $(".signature_previous_box").find('.sicon').closest('.layout_socialicon_border').show();
        $(".signature_previous_box").find('.sicon').closest('.layout_socialicon_border').siblings('.layout_between_gap').css({ 'display': 'revert' });
        $(".signature_layot").find('.sicon').closest('.layout_socialicon_border').show();
        $(".signature_layot").find('.sicon').closest('.layout_socialicon_border').siblings('.layout_between_gap').css({ 'display': 'revert' });
      }


      $('.layout_socialicon_border').each(function () {       //hide/show social icon border based on selected custom icons if its with social icon area
        if ($(this).find('.layout-custombtn').length > 0) {
          if ($(this).find('.layout-custombtn').find('a').length == 0) {
            if ($("#social_link_box").find('input[type=checkbox]:checked').length > 0) {
              $(this).closest('.layout_socialicon_border').show();
              $(this).closest('.layout_socialicon_border').siblings('.layout_between_gap').css({ 'display': 'revert' });
            } else {
              $(this).closest('.layout_socialicon_border').hide();
              $(this).closest('.layout_socialicon_border').siblings('.layout_between_gap').css({ 'display': 'none' });
            }
          } else {
            $(this).closest('.layout_socialicon_border').show();
            $(this).closest('.layout_socialicon_border').siblings('.layout_between_gap').css({ 'display': 'revert' });
          }
        }
      });

      // For manage padding only with devider on/off

      $('#signature_divider').change(function () {
        isPaddingRemove = $('input[name=layout_id]:checked').data('layout_divider_padding_remove')
        if (this.checked) {
          $(".layout_divider").css('padding', '0 0 0 15px');
        } else {
          console.log(isPaddingRemove)
          if (isPaddingRemove) {
            $(".layout_divider").css('padding', '0');
          } else {
            $(".layout_divider").css('padding', '0 0 0 15px');
          }
        }
      });

    });
  })(jQuery);
</script>
<script type="text/javascript">
  jQuery.noConflict();
  (function ($) {
    $(document).ready(function () {
      var profileImagePath = $('input[name="signature_profile"]').val();
      if (!$.trim(profileImagePath)) {
        $(".profile_animation_section").addClass('cursor-not-allowed opacity-50');
      }

      // var tooltip = $("<div class='hover_tooltip'>Please upload your profile picture or click 'Set & Save' if it’s already uploaded.</div>");
      // $('body').append(tooltip);

      // // Track mousemove globally (since pointer-events are disabled)
      // $(document).on('mousemove', function(e) {
      //     // Check if the mouse is over the .profile_animation_section
      //     var $section = $('.profile_animation_section');
      //     var sectionOffset = $section.offset();
      //     var sectionWidth = $section.outerWidth();
      //     var sectionHeight = $section.outerHeight();

      //     // Check if the mouse is within the bounds of the section
      //     if (
      //         e.pageX >= sectionOffset.left &&
      //         e.pageX <= sectionOffset.left + sectionWidth &&
      //         e.pageY >= sectionOffset.top &&
      //         e.pageY <= sectionOffset.top + sectionHeight
      //     ) {
      //         // If the section is disabled, show the tooltip
      //         if ($section.hasClass('section_disabled')) {
      //             tooltip.show();
      //             tooltip.css({
      //                 left: e.pageX + 10,  // Position tooltip slightly to the right
      //                 top: e.pageY + 10    // Position tooltip slightly below
      //             });
      //         }
      //     } else {
      //         tooltip.hide();  // Hide the tooltip when not hovering the section
      //     }
      // });

      // // Hide tooltip when the mouse leaves the document
      // $(document).on('mouseleave', function() {
      //     tooltip.hide();
      //   });

    });

  })(jQuery);


  

</script>
%%DEFINE_FOOTER%%