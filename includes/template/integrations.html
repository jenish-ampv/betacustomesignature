%%DEFINE_HEADER%%
<div class="flex grow flex-col in-data-kt-[sticky-header=on]:pt-(--header-height-default) overflow-auto">
    %%DEFINE_SIDEBAR%%
    <main class="grow" id="content" role="content">
		<div class="kt-container-fluid pb-4">
            <div id="snackbar"></div>
            <div id="snackbar-error"></div>
            <div id="snackbar-info"></div>
            <div class="kt-card">
                IF("%%DEFINE_PageView%%" == "googleconnect"){
                <div class="kt-card-content">
                    <div class="col-md-12 col-12 %%DEFINE_Gstep1%%">
                        <div class="signature_integration_withhead_box step" id="step2">
                            <h2><img src="%%DEFINE_IMAGE_LINK%%/images/google-workspace-icon.svg" alt=""> Google Workspace Integration</h2>
                            <div class="step_box">
                                <ul>
                                    <li class="active"><span>1</span>Step</li>
                                    <li><span>2</span>Step</li>
                                    <li><span>3</span>Step</li>
                                </ul>
                            </div>
                            <div class="headbox_content">
                                <h5 style="color:#000; -webkit-text-fill-color:#000 !important">Are you a Google Workspace Admin?</h5>
                                <p>To complete a domain-wide integration, you must be a Google Workspace Admin. Please choose your role below so we can provide the correct step-by-step setup instructions.</p>

                                <div class="button_bg"><a href="%%DEFINE_google_connect%%/2/0" class="nodont">No, i don't</a> &nbsp; &nbsp;<a href="%%DEFINE_google_connect%%/2/1">Yes, i do</a></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 col-12 %%DEFINE_Gstep2%%">

                        <!-- content yes -->
                        <div class="signature_integration_withhead_box %%DEFINE_contentclsyes%%" id="step2">
                            <h2><img src="%%DEFINE_IMAGE_LINK%%/images/google-workspace-icon.svg" alt=""> Google Workspace Integration</h2>
                            <div class="step_box">
                                <ul>
                                    <li><span>1</span>Step</li>
                                    <li class="active"><span>2</span>Step</li>
                                    <!-- <li><span>3</span>Step</li> -->
                                </ul>
                            </div>
                            <div class="headbox_content">
                                <p>Do you have a Google Workspace Admin role?</p>
                                <p>If yes, follow these steps to set up the integration:</p>
                                <p>1. Follow the integration instructions provided in this guide <a target="_blank" href="%%DEFINE_IMAGE_LINK%%/images/Google_Workspace_Integration_Guide.pdf">here.</a></p>
                                <p>2. Enable or disable Automatic Signature Update with Google Directory as needed.</p>
                                <p>3. Once all settings are configured, click Start Connection.</p>
                                <div class="style_design_box">
                                    <span>Automatic Signature Update with Google Directory</span>
                                    <div class="form-check form-switch">
                                        <input class="form-check-input autoupdateswitch" type="checkbox" role="switch" id="signature_auto_update" name="signature_auto_update" value="1" checked="">
                                    </div>
                                </div>
                                <p>CustomEsignature can automatically update employee signatures whenever information (e.g., name, title, phone number) changes in Google Directory.</p>
                                <p>
                                    1. Automatic sync occurs every 24 hours.<br/>
                                    2. You can also perform a manual signature update at any time.
                                </p>
                                <div class="button_bg" style="display:flex; justify-content: space-between;"><a href="%%DEFINE_google_connect%%" class="nodont">Previous Step</a> &nbsp;<a id="step1-btngl" href="javascript:void(0);">Start Connection</a></div>
                                <form id="gsuite">
                                    <input type="hidden" name="google_connect" value="1" />
                                    <span class="error d-none" id="admin"></span>
                                </form>
                            </div>
                        </div>

                        <!-- content no -->
                        <div class="signature_integration_withhead_box step %%DEFINE_contentclsno%%" id="step2">
                            <h2><img src="%%DEFINE_IMAGE_LINK%%/images/google-workspace-icon.svg" alt=""> Google Workspace Integration</h2>
                            <div class="step_box">
                                <ul>
                                    <li><span>1</span>Step</li>
                                    <li class="active"><span>2</span>Step</li>
                                    <!-- <li><span>3</span>Step</li> -->
                                </ul>
                            </div>
                            <div class="headbox_content">
                                <p>
                                    Invite your Google Workspace Admin to set up the connection.<br/>
                                    The invite creates a platform user entry and triggers an email notification.<br/>
                                    Your admin must accept and log in through their Google Admin account.<br/>
                                </p>
                                <div class="headbox_content">
                                    <form id="inviteadmin">
                                        <div class="row">
                                            <div class="col-md-6 col-12">
                                                <div class="form-floating">
                                                    <input type="text" class="form-control" id="admin_firstname" name="admin_firstname" placeholder="" required="required" value="">
                                                    <label for="admin_firstname">First Name</label>
                                                    <span class="error d-none" id="ai">First Name is required field</span>
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-12">
                                                <div class="form-floating">
                                                    <input type="text" class="form-control" id="admin_lastname" name="admin_lastname" placeholder="" required="required" value="">
                                                    <label for="admin_lastname">Last Name</label>
                                                    <span class="error d-none" id="as">Last Name is required field</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="admin_email" name="admin_email" placeholder="" required="required" value="">
                                            <label for="admin_email">Email</label>
                                            <span class="error d-none" id="at">Email is required field</span>
                                        </div>


                                        <div class="button_bg" style="display:flex; justify-content: space-between;"><a href="%%DEFINE_google_connect%%" class="nodont">Previous Step</a> &nbsp; <a id="invite-btn" href="#">Invite Google Workspace Admin </a></div>
                                        <input type="hidden" name="gsuite_inviteadmin" value="1" />
                                    </form>
                                </div>

                            </div>
                        </div>

                    </div>

                    <div class="col-md-12 col-12 %%DEFINE_Gstep3%%">
                        <div class="signature_integration_withhead_box step" id="step2">
                            <h2><img src="%%DEFINE_IMAGE_LINK%%/images/google-workspace-icon.svg" alt=""> Google Workspace Integration</h2>
                            <div class="step_box">
                                <ul>
                                    <li><span>1</span>Step</li>
                                    <li><span>2</span>Step</li>
                                    <li class="active"><span>3</span>Step</li>
                                </ul>
                            </div>
                            <div class="headbox_content">
                                <p>Watch a quick video demo on how to automate email signatures management after<br /> the integration has been set.</p>
                                <p>&nbsp;</p>
                                <img src="%%DEFINE_IMAGE_LINK%%/images/googleworkspace-demo.png" />

                                <div class="button_bg"> <a href="%%DEFINE_google_connect%%">Complete</a></div>
                            </div>
                        </div>
                    </div>

                    <!--<div class="col-md-5 col-12">
            <div class="signature_integration_withhead_box">
                <h2>Google Workspace Integration instructions</h2>
                <div class="headbox_content">
                <p>Custom Esignature integrates with your Microsoft 365 to help you automatically create and manage email signatures for the entire organization. Create and roll out branded email signatures with domain-wide Microsoft Add-in without having to neither set up email routing nor connect to a third-party server.</p>
                <p>Custom Esignature connects to Microsoft 365 Active Directory with the help of Graph API which allows creating and updating email signatures based on the employee's information in Active Directory. The email signatures in Outlook are then managed by Microsoft Add-in that is centrally installed by the admin for the entire domain or specific group of employees.</p>
                    <p>The first step is to set up an integration with Microsoft 365 Active Directory. Please, follow the instructions below:</p>
                    <p><a href="#">Instructions here</a></p>
                </div>
            </div>
            </div>-->

                </div>

                {:IF}



                IF("%%DEFINE_PageView%%" == "msconnect"){
                <div class="kt-card-content">
                    <div class="col-md-12 col-12">
                        <div class="signature_integration_withhead_box step" id="msstep1">
                            <h2><img src="%%DEFINE_IMAGE_LINK%%/images/subtract-icon.svg" alt=""> Azure AD Application Credentials</h2>
                            <div class="step_box">
                                <ul>
                                    <li class="active"><span>1</span>Step</li>
                                    <li><span>2</span>Step</li>
                                </ul>
                            </div>

                            <div class="headbox_content">
                                <p>Please, provide the following information after you have set the AD application:</p>
                                <form id="msazur">
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="application_id" name="application_id" placeholder="" required="required" value="">
                                        <label for=" ">Application ID</label>
                                        <span class="error d-none" id="ai">Application ID is required field</span>
                                    </div>
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="application_secret" name="application_secret" placeholder="" required="required" value="">
                                        <label for=" ">Application Secret</label>
                                        <span class="error d-none" id="as">Application Secret is required field</span>
                                    </div>
                                    <div class="form-floating">
                                        <input type="text" class="form-control" id="application_tenant" name="application_tenant" placeholder="" required="required" value="">
                                        <label for=" ">Application Tenant ID</label>
                                        <span class="error d-none" id="at">Application Tenant ID is required field</span>
                                    </div>
                                    <div class="style_design_box" style="display:none;">
                                        <span>Automatic Signature Update with Active Directory</span>
                                        <div class="form-check form-switch">
                                            <input class="form-check-input autoupdateswitch" type="checkbox" role="switch" id="signature_auto_update" name="signature_auto_update" value="1" checked>
                                        </div>
                                    </div>
                                    <p>Custom Esignature can automatically update signatures if any information imported to the signature is changed in Outlook Directory. Automatic sync will occur every 24 hours. Manual signature updates can still be done at any point of time.</p>

                                    <div class="button_bg"><a id="step1-btn" href="#">Continue </a></div>
                                    <input type="hidden" name="azuread_connect" value="1" />
                                </form>
                            </div>
                        </div>
                        <div class="signature_integration_withhead_box step" id="msstep2" style="display:none;">
                            <h2><img src="%%DEFINE_IMAGE_LINK%%/images/subtract-icon.svg" alt=""> Microsoft 365 Demo</h2>
                            <div class="step_box">
                                <ul>
                                    <li><span>1</span>Step</li>
                                    <li class="active"><span>2</span>Step</li>

                                </ul>
                            </div>

                            <div class="headbox_content">
                                <p>Watch a quick video demo on how to automate email signatures management after the integration has been set.</p>
                                <p>Please note, that it may take some time before you are able to deploy signatures after the Add-in is installed.</p>
                                <p>&nbsp;</p>
                                <div class="bulkupload_video"><img src="%%DEFINE_IMAGE_LINK%%/images/bulkupload_video.png" style="width:100%;" /></div>
                                <div class="button_bg"><a id="step1-btn" href="%%DEFINE_integrations%%">Complete </a></div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-12 col-12">
                        <div class="signature_integration_withhead_box" style="margin-bottom: 20px;">
                            <h2>Microsoft 365 Add-in instructions</h2>
                            <div class="headbox_content">
                                <p>Custom Esignature integrates with your Microsoft 365 to help you automatically create and manage email signatures for the entire organization. Create and roll out branded email signatures with domain-wide Microsoft Add-in without having to neither set up email routing nor connect to a third-party server.</p>
                                <p>Custom Esignature connects to Microsoft 365 Active Directory with the help of Graph API which allows creating and updating email signatures based on the employee's information in Active Directory. The email signatures in Outlook are then managed by Microsoft Add-in that is centrally installed by the admin for the entire domain or specific group of employees.</p>
                                <p>The first step is to set up an integration with Microsoft 365 Active Directory. Please, follow the instructions below:</p>
                                <p><a target="_blank" href="%%DEFINE_IMAGE_LINK%%/images/file/Steps-for-Azure-AD-portal.pdf">Instructions here</a></p>
                            </div>
                        </div>
                    </div>

                </div>

                {:IF}
                IF("%%DEFINE_PageView%%" == "integrations"){
                <div class="kt-card-content grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8">
                    
                    <div class="signature_integration_box kt-card">
                        <div class="kt-card-content flex flex-col">
                            <div class="dot_icon %%DEFINE_glconnectedbtncls%%">
                                <a href="javascript:void(0);" onclick="myFunction(1)">
                                    <img class="h-9" src="%%DEFINE_IMAGE_LINK%%/images/dot-icon.svg" alt="">
                                </a>
                            </div>
                            <div id="myDIV1" class="menu_open" style="display:none;">
                                <div class="close_icon"><a class="openPopupClass" href="javascript:void(0);" onclick="myFunction(1)"><img class="openPopupClass" src="https://betaapp.customesignature.com/images/close-signature-icon.svg" alt=""></a></div>
                                <ul>
                                    <li><a href="javascript:void(0);" data-toggle="tooltip" data-placement="top" title data-bs-original-title="Disconnect" data-bs-toggle="modal" data-bs-target="#DisconnectModalGL" data-id="1"><img src="%%DEFINE_IMAGE_LINK%%/images/disconnect-icon.svg" alt=""></a></li>
                                </ul>
                            </div>
                            <div class="flex items-center gap-3 text-lg font-semibold text-black">
                                <img class="h-9" src="%%DEFINE_IMAGE_LINK%%/images/g-suite.svg" alt="">
                                <span>Google Workspace</span>
                            </div>
                            <div class="flex-1 mb-5">
                                <p class="my-3 max-w-[280px] font-medium text-black text-xs">Seamlessly integrate your Google Workspace with Custom Esignature to effortlessly manage and deploy email signatures across your organization.</p>
                                <ul>
                                    <li>Sync with Google Contacts</li>
                                    <li>2-way Sync from Custom Esignature to Gmail</li>
                                    <li>Easy Deployment</li>
                                    <li>OAuth2.0 Security</li>
                                </ul>
                            </div>
                            <div class="w-full %%DEFINE_glconnectbtncls%%">
                                <a class="kt-btn kt-btn-primary w-full" href="%%DEFINE_google_connect%%">Connect</a>
                            </div>
                            <div class="w-full %%DEFINE_glconnectedbtncls%%">
                                <a class="kt-btn kt-btn-secondary w-full" href="javascrip:void(0);" style="cursor:default;">Connected</a>
                            </div>
                        </div>
                    </div>

                    <div class="signature_integration_box kt-card">
                        <div class="kt-card-content flex flex-col">
                            <div class="dot_icon %%DEFINE_connectedbtncls%%"><a href="javascript:void(0);" onclick="myFunction(2)"><img src="%%DEFINE_IMAGE_LINK%%/images/dot-icon.svg" alt=""></a></div>
                            <div id="myDIV2" class="menu_open" style="display:none;">
                                <div class="close_icon"><a class="openPopupClass" href="javascript:void(0);" onclick="myFunction(2)"><img class="openPopupClass" src="https://betaapp.customesignature.com/images/close-signature-icon.svg" alt=""></a></div>
                                <ul>
                                    <li>
                                        <a href="javascript:void(0);" class="" data-toggle="tooltip" data-placement="top" title data-bs-original-title="Disconnect" data-bs-toggle="modal" data-bs-target="#DisconnectModalMS" data-id="0"><img src="%%DEFINE_IMAGE_LINK%%/images/disconnect-icon.svg" alt=""></a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);" id="forcetoupdate" data-toggle="tooltip" data-placement="top" title data-bs-original-title="Force Update" data-url="%%DEFINE_azuread%%"><img src="%%DEFINE_IMAGE_LINK%%/images/force-update.svg" alt=""></a>
                                    </li>
                                    <li>
                                        <a href="%%DEFINE_integrations%%/installaddin" id="installaddin" data-toggle="tooltip" data-placement="top" title data-bs-original-title="Install Add-in"><img src="%%DEFINE_IMAGE_LINK%%/images/outlook-install-addin.svg" alt=""></a>
                                    </li>
                                </ul>
                            </div>
                            <div class="flex items-center gap-3 text-lg font-semibold text-black">
                                <img class="h-9" src="%%DEFINE_IMAGE_LINK%%/images/ms-office.svg" alt="">
                                <span>Outlook</span>
                            </div>
                            <div class="flex-1 mb-5">
                                <p class="my-3 max-w-[280px] font-medium text-black text-xs">Outlook email communications with the added advantage of Custom Esignature. With direct integration, unify your signature experience.</p>
                                <ul>
                                    <li>2-way Sync from Custom Esignature to Outlook</li>
                                    <li>Template Assignment based on user roles or departments</li>
                                    <li>Easy Deployment</li>
                                    <li>OAuth2.0 Security</li>
                                </ul>
                            </div>
                            <div class="%%DEFINE_connectbtncls%%">
                                <a class="kt-btn kt-btn-primary w-full" href="%%DEFINE_microsoft_connect%%">Connect</a>
                            </div>
                            <div class="connected %%DEFINE_connectedbtncls%%">
                                <span class="kt-btn kt-btn-secondary w-full">Connected</span>
                            </div>
                        </div>
                    </div>

                    <div style="display: none;">
                        <div class="signature_integration_box">

                            <h4><img src="%%DEFINE_IMAGE_LINK%%/images/exchange.svg" alt="">Microsoft Azure Active Directory</h4>
                            <p>Seamlessly integrate your Google Workspace with Custom Esignature to effortlessly manage and deploy email signatures across your organization.</p>
                            <ul>
                                <li>Unified Branding Control</li>
                                <li>Template Assignment based on user roles or departments</li>
                                <li>Easy Deployment</li>
                                <li>Single Sign-On</li>
                            </ul>
                            <div class="button_bg">
                                <a href="%%DEFINE_exchange_connect%%">Connect</a></div>
                        </div>
                    </div>
                </div>
                {:IF}
            </div>
        </div>
    </main>
</div>


    <div class="modal fade" id="DisconnectModalMS" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header" style="border:none;">
                    <h5 class="modal-title" id="exampleModalLabel">Disconnect Custom eSignature from Outlook</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>All the signatures will be removed from the email accounts after the integration is disconnected. Are you sure you want to proceed?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                    <button type="button" class="btn btn-primary disconnect" id="sendfeedback" data-id="0">Disconnect</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="DisconnectModalGL" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog ">
            <div class="modal-content">
                <div class="modal-header" style="border:none;">
                    <h5 class="modal-title" id="exampleModalLabel">Disconnect Custom eSignature from Google Workspace</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>All the signatures will be removed from the email accounts after the integration is disconnected. Are you sure you want to proceed?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
                    <button type="button" class="btn btn-primary disconnect" id="sendfeedback" data-id="1">Disconnect</button>
                </div>
            </div>
        </div>
    </div>

    <input type="hidden" id="form_url" value="%%DEFINE_integrations%%" />
    <input type="hidden" id="redirectintegration" value="%%DEFINE_integrations%%" />
    <input type="hidden" id="redirectazuread" value="%%DEFINE_azuread%%" />
    <input type="hidden" id="redirectgsuite" value="%%DEFINE_gsuite%%" />
    <input type="hidden" id="redirectgsuite_step3" value="%%DEFINE_google_connect%%/3" />
    <script src="%%DEFINE_JS_LINK%%/jquery-3.5.1.min.js"></script>
    <script>
        function myFunction(objid) {
            divobj = 'myDIV' + objid;
            var x = document.getElementById(divobj);

            if (x.style.display === "none") {
                x.style.display = "block";
            } else {
                x.style.display = "none";
            }
        }

        $(document).ready(function() {
            $('#step1-btn').on("click", function() {
                var error = 0;
                $('.error').addClass('d-none');
                if ($('#application_id').val() == "") {
                    $('#ai').removeClass('d-none');
                    var error = 1;
                }

                if ($('#application_secret').val() == "") {
                    $('#as').removeClass('d-none');
                    var error = 1;
                }

                if ($('#application_tenant').val() == "") {
                    $('#at').removeClass('d-none');
                    var error = 1;
                }
                if (error == 1) {
                    return false;
                }

                var form = $('#msazur');
                var formdata = form.serialize();
                $.ajax({
                    type: 'POST',
                    url: $('#form_url').val() + '/microsoft/connect',
                    data: formdata,
                    dataType: 'json',
                }).done(function(data) {
                    if (data.error == 0) {
                        $('#snackbar').html('<div class="alert alert-success"><img src="%%DEFINE_IMAGE_LINK%%/images/success-message-icon.svg" alt=""><strong>Success! </strong>' + data.msg + ' </div>');
                        $('#snackbar').show();
                        setTimeout(function() {
                            $('#snackbar').hide();
                        }, 2000);
                        $('#msstep1').css('display', 'none');
                        $('#msstep2').css('display', 'block');
                    } else {
                        $('#snackbar-error').html('<div class="alert alert-danger"><img src="%%DEFINE_IMAGE_LINK%%/images/error-message-icon.svg" alt=""><strong>Failure! </strong>' + data.msg + ' </div>');
                        $('#snackbar-error').show();
                        setTimeout(function() {
                            $('#snackbar-error').hide();
                        }, 2000);
                    }
                    // Optionally alert the user of success here...
                }).fail(function(data) {
                    return false;
                    // Optionally alert the user of an error here...
                });
                return false;
            });

            // google connect

            $('#step1-btngl').on("click", function() {
                var error = 0;
                $('.error').addClass('d-none');
                var form = $('#gsuite');
                var formdata = form.serialize();
                $.ajax({
                    type: 'POST',
                    url: $('#form_url').val() + '/google/connect',
                    data: formdata,
                    dataType: 'json',
                }).done(function(data) {
                    if (data.error == 0) {
                        $('#snackbar').html('<div class="alert alert-success"><img src="%%DEFINE_IMAGE_LINK%%/images/success-message-icon.svg" alt=""><strong>Success! </strong>' + data.msg + ' </div>');
                        $('#snackbar').show();
                        setTimeout(function() {
                            $('#snackbar').hide();
                            window.location = $('#redirectintegration').val();
                        }, 2000);
                    } else {
                        $('#snackbar-error').html('<div class="alert alert-danger"><img src="%%DEFINE_IMAGE_LINK%%/images/error-message-icon.svg" alt=""><strong>Failure! </strong>' + data.msg + ' </div>');
                        $('#snackbar-error').show();
                        setTimeout(function() {
                            $('#snackbar-error').hide();
                        }, 2000);
                    }
                    // Optionally alert the user of success here...
                }).fail(function(data) {
                    return false;
                    // Optionally alert the user of an error here...
                });
                return false;
            });

            // invite google workspace	
            $('#invite-btn').on("click", function() {
                $('#invite-btn').addClass('disabled-button');
                var error = 0;
                $('.error').addClass('d-none');
                if ($('#admin_firstname').val() == "") {
                    $('#ai').removeClass('d-none');
                    var error = 1;
                    setTimeout(function() {$('#ai').addClass('d-none');}, 2000);
                }

                if ($('#admin_lastname').val() == "") {
                    $('#as').removeClass('d-none');
                    var error = 1;
                    setTimeout(function() {$('#as').addClass('d-none');}, 2000);
                }

                if ($('#admin_email').val() == "") {
                    $('#at').removeClass('d-none');
                    var error = 1;
                    setTimeout(function() {$('#at').addClass('d-none');}, 2000);
                }
                if (error == 1) {
                    $('#invite-btn').removeClass('disabled-button');
                    return false;
                }
                var error = 0;
                $('.error').addClass('d-none');
                var form = $('#inviteadmin');
                var formdata = form.serialize();
                $.ajax({
                    type: 'POST',
                    // url: $('#form_url').val() + '/google/connect',
                    url: $('#form_url').val() + '/google/inviteGoogleAdmin',
                    data: formdata,
                    dataType: 'json',
                }).done(function(data) {
                    if (data.error == 0) {
                        $('#snackbar').html('<div class="alert alert-success"><img src="%%DEFINE_IMAGE_LINK%%/images/success-message-icon.svg" alt=""><strong>Success! </strong>' + data.msg + ' </div>');
                        $('#snackbar').show();
                        setTimeout(function() {
                            $('#snackbar').hide();
                            window.location = $('#redirectgsuite_step3').val();
                        }, 2000);
                    } else {
                        $('#snackbar-error').html('<div class="alert alert-danger"><img src="%%DEFINE_IMAGE_LINK%%/images/error-message-icon.svg" alt=""><strong>Failure! </strong>' + data.msg + ' </div>');
                        $('#snackbar-error').show();
                        setTimeout(function() {
                            $('#snackbar-error').hide();
                        }, 2000);
                    }
                    $('#invite-btn').removeClass('disabled-button');
                    // Optionally alert the user of success here...
                }).fail(function(data) {
                    $('#invite-btn').removeClass('disabled-button');
                    return false;
                    // Optionally alert the user of an error here...
                });
                return false;
            });



            // disconnect

            $('.disconnect').on("click", function() {
                var dataid = $(this).attr('data-id');
                var formdata = 'disconnect=1&platform=' + dataid;
                $.ajax({
                    type: 'POST',
                    url: $('#form_url').val(),
                    data: formdata,
                    dataType: 'json',
                }).done(function(data) {
                    if (data.error == 0) {
                        $('#snackbar').html('<div class="alert alert-success"><img src="%%DEFINE_IMAGE_LINK%%/images/success-message-icon.svg" alt=""><strong>Success! </strong>' + data.msg + ' </div>');
                        $('#snackbar').show();
                        setTimeout(function() {
                            $('#snackbar').hide();
                            window.location = $('#form_url').val();
                        }, 2000);
                    } else {
                        $('#snackbar-error').html('<div class="alert alert-danger"><img src="%%DEFINE_IMAGE_LINK%%/images/error-message-icon.svg" alt=""><strong>Failure! </strong>' + data.msg + ' </div>');
                        $('#snackbar-error').show();
                        setTimeout(function() {
                            $('#snackbar-error').hide();
                        }, 2000);
                    }
                    // Optionally alert the user of success here...
                }).fail(function(data) {
                    return false;
                    // Optionally alert the user of an error here...
                });
                return false;
            });


            $('#forcetoupdate').on("click", function() {
                var dataurl = $(this).attr('data-url');
                var formdata = 'forcetoupdate=1';
                $.ajax({
                    type: 'POST',
                    url: dataurl,
                    data: formdata,
                    dataType: 'json',
                }).done(function(data) {
                    if (data.error == 0) {
                        $('#snackbar').html('<div class="alert alert-success"><img src="%%DEFINE_IMAGE_LINK%%/images/success-message-icon.svg" alt=""><strong>Success! </strong>' + data.msg + ' </div>');
                        $('#snackbar').show();
                        setTimeout(function() {
                            $('#snackbar').hide();
                        }, 2000);
                    } else {
                        $('#snackbar-error').html('<div class="alert alert-danger"><img src="%%DEFINE_IMAGE_LINK%%/images/error-message-icon.svg" alt=""><strong>Failure! </strong>' + data.msg + ' </div>');
                        $('#snackbar-error').show();
                        setTimeout(function() {
                            $('#snackbar-error').hide();
                        }, 2000);
                    }
                    // Optionally alert the user of success here...
                }).fail(function(data) {
                    return false;
                    // Optionally alert the user of an error here...
                });
                return false;
            });


            // To active/inactive in leftbar
            $('.new_dashboard_left a').removeClass('active');
            $('.new_dashboard_left .integrations').addClass('active');
            
        });
    </script>

    <script>
        $(document).ready(function() {
            $('[data-toggle="tooltip"]').tooltip();
        });
    </script>

    %%DEFINE_FOOTER%%