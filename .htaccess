RewriteEngine On
#RewriteBase /

#RewriteCond %{HTTP_HOST} !^www\. [NC]
#RewriteRule ^(.*) https://www.%{SERVER_NAME}%{REQUEST_URI} [L,R=301]

#RewriteCond %{HTTP_HOST} www.app.customesignature.com
#RewriteRule (.*) https://app.customesignature.com/$1 [R=301,L]

#RewriteCond %{HTTP:X-Forwarded-Proto} =http
#RewriteCond %{HTTPS} !=on
#RewriteRule .* https://%{HTTP:Host}%{REQUEST_URI} [L,R=permanent]

RewriteRule ^([A-Za-z0-9-]+)/?$  index.php?module=$1 [QSA]
RewriteRule ^([a-zA-Z0-9]+)/([A-Z0-9]+)$ index.php?module=$1&id=$2 [L,QSA]
RewriteRule ^([A-Za-z0-9-]+)/([a-zA-Z0-9-]+)$  index.php?module=$1&category_id=$2 [QSA]
RewriteRule ^([A-Za-z0-9-]+)/([0-9-]+)/([0-9]+)$  index.php?module=$1&gallery_id=$2&id=$3 [NC,L]
RewriteRule ^([A-Za-z0-9-]+)/([a-zA-Z0-9-]+)/([a-zA-Z0-9-]+)$  index.php?module=$1&category_id=$2&id=$3 [NC,L]
RewriteRule ^([A-Za-z0-9-]+)/([a-zA-Z0-9-]+)/([a-zA-Z0-9-]+)/([a-zA-Z0-9-]+)$  index.php?module=$1&category_id=$2&id=$3&subid=$4 [NC,L]
RewriteRule ^([A-Za-z0-9-]+)/([a-zA-Z0-9-]+)/([a-zA-Z0-9-]+)/([a-zA-Z0-9-]+)/([a-zA-Z0-9-]+)$  index.php?module=$1&category_id=$2&id=$3&subid=$4&sid=$5 [NC,L]
RewriteRule ^([a-zA-Z0-9]+)/email/([a-zA-Z0-9@.]+)$ index.php?module=$1&email=$2 [L]
RewriteRule ^([A-Za-z0-9-]+)/saveInvoice/([a-zA-Z0-9)_]+)$  index.php?module=$1&action=saveInvoice&invoice_id=$2 [NC,L]
RewriteRule ^signup/(.*)$ index.php?module=signup&id=$1 [NC,L]


<ifModule mod_gzip.c>
  mod_gzip_on Yes
  mod_gzip_dechunk Yes
  mod_gzip_item_include file \.(html?|txt|css|js|php|pl)$
  mod_gzip_item_include handler ^cgi-script$
  mod_gzip_item_include mime ^text/.*
  mod_gzip_item_include mime ^application/x-javascript.*
  mod_gzip_item_exclude mime ^image/.*
  mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
</ifModule>

<ifModule mod_headers.c>
SetEnvIf Request_URI "^/images/social/.+\.(png|jpg|gif)$" ENABLE_CACHE
Header set Cache-Control "max-age=31536000, public" env=ENABLE_CACHE

SetEnvIf Request_URI "^/images/custome/.+\.(png|jpg|gif)$" ENABLE_CACHE
Header set Cache-Control "max-age=31536000, public" env=ENABLE_CACHE

SetEnvIf Request_URI "^/images/marketplace/.+\.(png|jpg|gif)$" ENABLE_CACHE
Header set Cache-Control "max-age=31536000, public" env=ENABLE_CACHE

SetEnvIf Request_URI "^/images/video/.+\.(mp4|webm|)$" ENABLE_CACHE
Header set Cache-Control "max-age=31536000, public" env=ENABLE_CACHE

</ifModule>
#
#<ifModule mod_expires.c>
#  ExpiresActive On
#  ExpiresDefault "access plus 1 seconds"
#  ExpiresByType text/html "access plus 1 seconds"
#  ExpiresByType image/gif "access plus 2592000 seconds"
#  ExpiresByType image/jpeg "access plus 2592000 seconds"
#  ExpiresByType image/png "access plus 2592000 seconds"
#  ExpiresByType text/css "access plus 604800 seconds"
#  ExpiresByType text/javascript "access plus 216000 seconds"
#  ExpiresByType application/x-javascript "access plus 216000 seconds"
#</ifModule>
#
#<ifModule mod_headers.c>
#  <filesMatch "\.(ico|pdf|flv|jpg|jpeg|png|gif|swf|svg)$">
#    Header set Cache-Control "max-age=2592000, public"
#  </filesMatch>
#  <filesMatch "\.(css)$">
#    Header set Cache-Control "max-age=604800, public"
#  </filesMatch>
#  <filesMatch "\.(js)$">
#    Header set Cache-Control "max-age=216000, private"
#  </filesMatch>
#  <filesMatch "\.(xml|txt)$">
#    Header set Cache-Control "max-age=216000, public, must-revalidate"
#  </filesMatch>
#  <filesMatch "\.(html|htm|php)$">
#    Header set Cache-Control "max-age=1, private, must-revalidate"
#  </filesMatch>
#</ifModule>
